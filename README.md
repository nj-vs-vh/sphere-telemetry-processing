# Телеметрия в эксперименте СФЕРА-2

## sphere_log_parser

— пакет для парсинга файлов логов в форматах эксперимента СФЕРА-2.

Импорт и стандартное использование:

```python
import sphere_log_parser as slp
df = slp.read_log_to_dataframe(filename, parsing_config=slp.GROUND_DATA_CONFIG, logging=True)
```

Описание пакета и способы добавления полей данных и конфигов:

```python
help(slp)
```

## heigh_correction

— пакет для коррекции показаний GPS-датчика высоты по данным барометра

Глобальный импорт как пакета пока не настроен, можно работать вручную через `main.py`

## inclinometer_fetching_2012_logs.ipynb

— небольшой ноутбук, в котором производится (неудачная) попытка собрать данные инклинометра в полётах за 2012 год

## [DEPRECATED] datum_querying.py

— модуль для получения данных в определённые моменты времени из датумов. Для использования необходимо указать в модуле папку, где лежат посекундные датумы для требуемых годов. Пример запроса:

```python
from datum_querying import telemetry_data_at
df = telemetry_data_at(
    [
        '2013-03-15 12:00:00',
        '2012-03-15',
        '2011-03-15T15',
    ],
    columns=['H', 'N', 'E']
)
```

**Информация в датумах не полна, включены только логи с бортового компьютера, следует использовать базу Mongo, где агрегирована вся телеметрия**

## telemetry_XXX_etl.py

— скрипты для чтения данных телеметрии из текстовых логов и датума и записи в базу данных Mongo. Запускать самостоятельно не рекомендуется, лежат для информации/истории.

## Как скачать данные в формате MongoDB и поднять локально

**TBD**

## local_to_utc_conversion.ipynb

— ноутбук для исследования возможности перевести дату-время, распарсенную из текстовых логов, в UTC. Время в UTC хранится в виде 6-значного числа (GPS timestamp), а дату нужно разметить вручную.
